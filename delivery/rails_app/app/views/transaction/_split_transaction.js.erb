$(document).ready(function() {
    if ($('table#split_transactions').length) {
      split.loadFunctions();
      split.calculateRemainder();
      split.add();
    }
});

(function(split, $, undefined ) {
    split.loadFunctions = function() {
        $("img plus add").click(function(){
            split.add();
        });
    };
    
    split.add = function() {
      var row = '<%= escape_javascript(render(partial: "debit_row", locals: {:debit => ""})) %>';
      $('#split_transactions tr.debit_row:last').after(row);
    };

    split.delete = function($element) { 
      $element.closest('tr').remove();
    }

    split.calculateRemainder = function() {
        var total = $('#transaction_amount').text();
        

        $('#remainder').text(total);
    }

}( window.split = window.split || {}, jQuery ));
